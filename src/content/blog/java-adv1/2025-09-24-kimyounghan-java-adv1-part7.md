---
title: "동기화 - synchronized"
pubDate: 2025-09-24
description: "김영한님의 자바 고급 1편 강의 part 7(동기화 - synchronized) 학습 정리"
---

> **출처**: [김영한의 자바 고급 1편 강의](https://inf.run/iuVCy) - Section 7 : 동기화 - synchronized

## 동시성 문제

멀티스레드 환경에서 **동일한 공유 자원에 동시 접근**할 때 예측 불가능한 결과가 발생하는 문제입니다.

### 공유 자원의 종류

| 자원 유형      | 동시성 문제  | 예시                                   |
| -------------- | ------------ | -------------------------------------- |
| **공유 자원**  | ⚠️ 문제 발생 | 멤버 변수, static 변수, 공유 객체 필드 |
| **지역 변수**  | ✅ 안전      | 각 스레드의 고유 메모리 공간           |
| **final 변수** | ✅ 안전      | 값 변경 불가능                         |

### 문제 발생 원인

```java
class Counter {
    private int count = 0;  // 공유 자원

    public void increment() {
        count++;  // 여러 스레드가 동시 접근 시 문제
    }
}
```

**핵심**: 공유 자원 접근 자체가 문제가 아니라, **사용 중간에 다른 스레드가 값을 변경**하는 것이 문제입니다.

## synchronized 키워드

### 임계 영역 보호

**임계 영역**: 여러 스레드가 동시 접근하면 문제가 생기는 공유 자원을 다루는 코드 부분

```java
class SafeCounter {
    private int count = 0;

    // 메서드 동기화
    public synchronized void increment() {
        count++;  // 한 번에 하나의 스레드만 접근
    }

    // 블록 동기화
    public void decrement() {
        synchronized(this) {  // 객체 락 사용
            count--;
        }
    }
}
```

### 동작 원리

- 모든 객체는 **내부 락**을 가짐
- 스레드는 락 획득 후 임계 영역 진입
- 락을 못 얻으면 `BLOCKED` 상태로 대기
- **락 획득 순서는 보장되지 않음**

### 성능 고려사항

- **병렬성 제한**: 순차 실행으로 인한 성능 저하
- **주의점**: 임계 영역이 길거나 자주 호출되면 성능 문제
